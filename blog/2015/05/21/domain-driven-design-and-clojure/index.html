
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Domain Driven Design and Clojure - Zephyrizing</title>
  <meta name="author" content="Geoff Shannon">

  
  <meta name="description" content="I&rsquo;ve been reading an excellent book recently: Domain Driven Design
by Eric Evans. I just finished the section on Entities and Value
Objects, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.zephyrizing.net/blog/2015/05/21/domain-driven-design-and-clojure">
  <link rel="icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-TileImage" content="/mstile-144x144.png">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Zephyrizing" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body   >
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43671921-1', 'auto');
  ga('send', 'pageview');
</script>

  <header role="banner"><hgroup>
  <h1><a href="/">Zephyrizing</a></h1>
  
    <h2>Thoughts on cast-iron seasoning, programming and everything&#8230;</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.zephyrizing.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/presentations">Presentations</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  

  <header>
    
      <h1 class="entry-title">Domain Driven Design and Clojure</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-05-21T10:41:29-05:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>21</span><span class='date-suffix'>st</span>, <span class='date-year'>2015</span></span> <span class='time'>10:41 am</span></time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://www.zephyrizing.net">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>I&rsquo;ve been reading an excellent book recently: <a href="https://en.wikipedia.org/wiki/Domain-driven_design"><em>Domain Driven Design</em></a>
by Eric Evans. I just finished the section on Entities and Value
Objects, and it&rsquo;s caused me to start thinking about Clojure and the
&ldquo;sane state management model&rdquo; that language advocates/enforces.</p>

<!--more-->


<p>The Clojure state model bears some strong similarities to what Evans
talks about when discussing the needs and uses for Entities and Value
Objects. Entities he says should be used to represent things where
their continuity of identity is more important than their current
value. Value Objects are the opposite, the important part of a Value
Object is the data it holds or represents, to the extent that Value
Objects with the same value are totally interchangeable.</p>

<p>He goes on to talk about the benefits that immutability and safe
arbitrary sharing that this interchangeability can give you.
Specifically, the relative looseness of the constraints on Value
Objects gives a system designer more freedom to implement Value
Objects in a way that has extra benefits, such as increased
performance or memory efficiency.</p>

<p>I&rsquo;m just going to pull some quotes directly from
<a href="http://clojure.org/state">the page on clojure.org about state</a>.</p>

<p>First, some words about identity:</p>

<blockquote><p>While some programs are merely large functions, e.g. compilers or
theorem provers, many others are not - they are more like working
models, and as such need to support what I&rsquo;ll refer to in this
discussion as identity. By identity I mean a stable logical entity
associated with a series of different values over time. Models need
identity for the same reasons humans need identity - to represent
the world. How could it work if identities like &lsquo;today&rsquo; or &lsquo;America&rsquo;
had to represent a single constant value for all time?</p></blockquote>

<p>And now, values:</p>

<blockquote><p>So, for this discussion, an identity is an entity that has a state,
which is its value at a point in time. And a value is something that
doesn&rsquo;t change. 42 doesn&rsquo;t change. June 29th 2008 doesn&rsquo;t
change. Points don&rsquo;t move, dates don&rsquo;t change, no matter what some
bad class libraries may cause you to believe. Even aggregates are
values. The set of my favorite foods doesn&rsquo;t change, i.e. if I
prefer different foods in the future, that will be a different set.</p></blockquote>

<p>Clearly Rich Hickey was thinking along the same lines as Eric
Evans. In fact, I would say that Clojure is a programming language
that is built on a firm conceptual model of the domain of
programming. I think this is one of the things that makes Clojure such
a joy to program in. Especially once you&rsquo;re familiar with the
language, the standard idioms and the general layout of it&rsquo;s
libraries. Everything is highly conceptually consistent. There have
been very few points where I learned something new about Clojure and
thought &ldquo;Well that doesn&rsquo;t really make sense&hellip;&rdquo; More often when I
learn something new it fits smoothly into the mental model that I
already have about how the language works.</p>

<p>I guess this Domain Driven Design stuff might really work&hellip;</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Geoff Shannon</span></span>

      




<time class='entry-date' datetime='2015-05-21T10:41:29-05:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>21</span><span class='date-suffix'>st</span>, <span class='date-year'>2015</span></span> <span class='time'>10:41 am</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/clojure/'>clojure</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://www.zephyrizing.net/blog/2015/05/21/domain-driven-design-and-clojure/" data-via="RadicalZephyr" data-counturl="http://www.zephyrizing.net/blog/2015/05/21/domain-driven-design-and-clojure/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/05/19/learning-rack/" title="Previous Post: Learning Rack">&laquo; Learning Rack</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/05/26/estimating-is-hard/" title="Next Post: Estimating is Hard">Estimating is Hard &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/07/23/the-importance-of-focusing-small-with-tdd/">The Importance of Focusing Small With TDD</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/19/tdd-and-the-art-of-picking-tests/">TDD and the Art of Picking Tests</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/13/secure-password-storage/">Secure Password Storage</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/03/domain-driven-writing/">Domain Driven Writing</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/29/the-many-faces-of-the-repository-pattern/">The Many Faces of the Repository Pattern</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/RadicalZephyr">@RadicalZephyr</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'RadicalZephyr',
            count: 7,
            skip_forks: true,
            to_skip: ["radicalzephyr.github.io","home","prelude",".emacs.d","emacs","synapse-admin","old-site"],
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Geoff Shannon -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'zephyrizing';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.zephyrizing.net/blog/2015/05/21/domain-driven-design-and-clojure/';
        var disqus_url = 'http://www.zephyrizing.net/blog/2015/05/21/domain-driven-design-and-clojure/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>
<noscript>Please enable JavaScript to view
  the <a href="http://disqus.com/?ref_noscript">comments powered by
    Disqus.</a></noscript>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
